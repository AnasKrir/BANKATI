<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Login - BANKATI</title>
    <link rel="stylesheet" th:href="@{/assets/css/login.css}">
</head>
<body>

<div class="container">
    <div class="header">
        <div class="banner">
            <img th:src="@{/assets/img/banner1.png}" alt="Bankati Banner">
        </div>
    </div>

    <div class="form-section">
        <p class="error-msg" th:if="${error}" th:text="${error}">Erreur de connexion</p>

        <form th:action="@{/login}" method="post">
            <div class="input-group">
                <img th:src="@{/assets/img/user.png}" class="input-icon" alt="Username icon">
                <input type="text" name="username" placeholder="Nom d'utilisateur" required>
            </div>

            <div class="input-group">
                <img th:src="@{/assets/img/password.png}" class="input-icon" alt="Password icon">
                <input type="password" name="password" id="password" placeholder="Mot de passe" required>
                <img th:src="@{/assets/img/EyeClosed.png}" class="password-toggle" id="togglePassword" alt="Toggle password">
            </div>

            <div class="admin-checkbox">
                <input type="checkbox" id="adminLogin" name="adminLogin">
                <label for="adminLogin">Se connecter en tant qu'administrateur</label>
            </div>

            <div class="buttons">
                <button type="submit" class="login-btn">Login</button>
                <button type="reset" class="cancel-btn">Cancel</button>
            </div>
        </form>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const passwordInput = document.getElementById('password');
        const toggleIcon = document.getElementById('togglePassword');

        toggleIcon.addEventListener('click', function () {
            const isPassword = passwordInput.type === 'password';
            passwordInput.type = isPassword ? 'text' : 'password';
            toggleIcon.src = isPassword
                ? /*[[${'/assets/img/EyeOpened.png'}]]*/ '/assets/img/EyeOpened.png'
                : /*[[${'/assets/img/EyeClosed.png'}]]*/ '/assets/img/EyeClosed.png';
        });
    });
</script>

</body>
</html>
